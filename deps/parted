#!/bin/sh
#SOURCE: https://ftp.gnu.org/gnu/parted/parted-3.2.tar.xz
#FILE: parted-3.2.tar.xz
#HASH: 78db6ca8dd6082c5367c8446bf6f7ae044091959

set -e
#set -x

build()
{
  tar --strip-components=1 -xJf $1
  if [ "x$2" = "xx86_64" ]
  then
    ./configure --prefix= --disable-shared
  elif [ "x$2" = "xarm" ]
  then
    ./configure --prefix= --disable-shared --host arm-linux-gnueabihf --build x86_64-pc-linux-gnu
  elif [ "x$2" = "xarm64" ]
  then
    ./configure --prefix= --disable-shared --host aarch64-linux-gnu --build x86_64-pc-linux-gnu
  fi
  make
}

install()
{
  cp -f $3/parted/parted $1/sbin
}

binaries()
{
  ls $1/sbin/parted
}
