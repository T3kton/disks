#!/bin/sh
#SOURCE: http://mirrors.kernel.org/sourceware/lvm2/LVM2.2.02.177.tgz
#FILE: LVM2.2.02.177.tgz
#HASH: b114b2ef40fca63c6df290a5f1aac54ff3e764aa

set -e
#set -x

build()
{
  tar --strip-components=1 -xzf $1
  if [ "x$3" = "xx86_64" ]
  then
    ./configure --prefix= --disable-selinux
  elif [ "x$3" = "xarm" ]
  then
    ./configure --prefix= --disable-selinux --host arm-linux-gnueabihf --build x86_64-pc-linux-gnu
  elif [ "x$3" = "xarm64" ]
  then
    ./configure --prefix= --disable-selinux --host aarch64-linux-gnu --build x86_64-pc-linux-gnu
  fi
  make $4
}

install()
{
  cp -f $3/tools/lvm $1/sbin
  cp -f $3/libdm/libdevmapper.so.1.02 $1/lib
}

binaries()
{
  ls $1/sbin/lvm
  ls $1/lib/libdevmapper.so*
}
